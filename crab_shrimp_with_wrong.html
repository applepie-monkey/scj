<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å‹•ç‰©åˆ†é¡æ‹–æ”¾éŠæˆ²</title>
    <style>
        /* åŸºæœ¬é é¢è¨­å®š */
        body {
            font-family: "PingFang HK", "Microsoft JhengHei", sans-serif;
            background-color: #f0f8ff;
            margin: 0;
            padding: 20px;
            overflow-y: scroll; 
            touch-action: pan-y; 
        }

        h1 {
            text-align: center;
            color: #333;
        }

        /* æ¯ä¸€å€‹å•é¡Œçš„å®¹å™¨ */
        .question-container {
            background-color: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            border: 2px solid #ddd;
        }

        .question-title {
            font-size: 1.2rem;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 15px;
            border-left: 5px solid #3498db;
            padding-left: 10px;
        }

        /* å‹•ç‰©å€å¡Š */
        .animals-source {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 20px;
            min-height: 80px;
            padding: 10px;
            background-color: #fafafa;
            border-radius: 10px;
            flex-wrap: wrap;
        }

        /* å¯æ‹–å‹•çš„å‹•ç‰©å¡ç‰‡ */
        .animal-card {
            width: 80px;
            height: 90px;
            background-color: #fff;
            border: 2px solid #3498db;
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: grab;
            user-select: none;
            touch-action: none; 
            position: relative; 
            z-index: 1;
        }

        .animal-emoji {
            font-size: 40px;
            pointer-events: none;
            display: inline-block; 
        }

        /* æ‚¨çš„ç¨‹å¼ç¢¼ä¸­çš„æ¨£å¼ (ç´«é’è‰²ç€¨å°¿è¦) */
        .mantis-style {
            filter: hue-rotate(280deg) brightness(0.9);
        }

        .animal-name {
            font-size: 12px;
            color: #555;
            pointer-events: none;
        }

        /* ç±ƒå­å€åŸŸ */
        .baskets-container {
            display: flex;
            justify-content: space-around;
            gap: 20px;
        }

        .basket {
            flex: 1;
            min-height: 150px;
            background-color: #eefec3;
            border: 3px dashed #88b04b;
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 10px;
            transition: background-color 0.3s;
        }

        .basket-title {
            font-weight: bold;
            color: #2c5e1a;
            margin-bottom: 10px;
            text-align: center;
            background-color: rgba(255,255,255,0.8);
            padding: 5px 10px;
            border-radius: 15px;
        }

        .basket-content {
            width: 100%;
            flex-grow: 1;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 5px;
        }

        /* æ‹–å‹•æ™‚çš„æ¨£å¼ */
        .dragging {
            opacity: 0.8;
            box-shadow: 0 10px 20px rgba(0,0,0,0.3);
            transform: scale(1.1);
            z-index: 1000;
        }

        /* --- é€™è£¡åšäº†ä¿®æ”¹ï¼šèª¿æ•´ç±ƒå­å…§å¡ç‰‡é«˜åº¦ï¼Œä¸¦é¡¯ç¤ºæ–‡å­— --- */
        .basket .animal-card {
            width: 60px;
            height: 85px; /* é«˜åº¦ç¨å¾®å¢åŠ ï¼Œç¢ºä¿æ”¾å¾—ä¸‹æ–‡å­— */
            border: 1px solid #aaa;
        }
        .basket .animal-emoji {
            font-size: 30px;
        }
        .basket .animal-name {
            font-size: 10px;
            display: block; /* æ”¹ç‚ºé¡¯ç¤ºæ–‡å­— */
            margin-top: 2px;
        }

    </style>
</head>
<body>

    <h1>æµ·æ´‹ç”Ÿç‰©åˆ†é¡æ´»å‹•</h1>
    <p style="text-align: center; color: #666;">è«‹ç”¨æ‰‹æŒ‡å°‡å‹•ç‰©æ‹–æ›³åˆ°æ­£ç¢ºçš„ç±ƒå­è£¡ã€‚</p>

    <div class="question-container" id="q1">
        <div class="question-title">å•é¡Œ 1ï¼šèŸ¹ã€é¾è¦ã€ç€¨å°¿è¦å’Œè¦ï¼Œèª°çš„èº«é«”å‘ˆæ©¢åœ“å½¢ï¼Ÿ</div>
        <div class="animals-source">
            <div class="animal-card" data-id="q1-crab"><span class="animal-emoji">ğŸ¦€</span><span class="animal-name">èŸ¹</span></div>
            <div class="animal-card" data-id="q1-lobster"><span class="animal-emoji">ğŸ¦</span><span class="animal-name">é¾è¦</span></div>
            <div class="animal-card" data-id="q1-mantis"><span class="animal-emoji mantis-style">ğŸ¦</span><span class="animal-name">ç€¨å°¿è¦</span></div>
            <div class="animal-card" data-id="q1-shrimp"><span class="animal-emoji">ğŸ¦</span><span class="animal-name">è¦</span></div>
        </div>
        <div class="baskets-container">
            <div class="basket" data-basket="oval-yes">
                <div class="basket-title">ç±ƒå­1ï¼šèº«é«”å‘ˆæ©¢åœ“å½¢</div>
                <div class="basket-content"></div>
            </div>
            <div class="basket" data-basket="oval-no">
                <div class="basket-title">ç±ƒå­2ï¼šèº«é«”ä¸å‘ˆæ©¢åœ“å½¢</div>
                <div class="basket-content"></div>
            </div>
        </div>
    </div>

    <div class="question-container" id="q2">
        <div class="question-title">å•é¡Œ 2ï¼šé¾è¦ã€ç€¨å°¿è¦å’Œè¦ï¼Œèª°æœ‰é•·è§¸é¬šï¼Ÿ</div>
        <div class="animals-source">
            <div class="animal-card" data-id="q2-lobster"><span class="animal-emoji">ğŸ¦</span><span class="animal-name">é¾è¦</span></div>
            <div class="animal-card" data-id="q2-mantis"><span class="animal-emoji mantis-style">ğŸ¦</span><span class="animal-name">ç€¨å°¿è¦</span></div>
            <div class="animal-card" data-id="q2-shrimp"><span class="animal-emoji">ğŸ¦</span><span class="animal-name">è¦</span></div>
        </div>
        <div class="baskets-container">
            <div class="basket" data-basket="antenna-yes">
                <div class="basket-title">ç±ƒå­3ï¼šæœ‰é•·è§¸é¬š</div>
                <div class="basket-content"></div>
            </div>
            <div class="basket" data-basket="antenna-no">
                <div class="basket-title">ç±ƒå­4ï¼šæ²’æœ‰é•·è§¸é¬š</div>
                <div class="basket-content"></div>
            </div>
        </div>
    </div>

    <div class="question-container" id="q3">
        <div class="question-title">å•é¡Œ 3ï¼šé¾è¦å’Œè¦ï¼Œèª°æœ‰å¤§é‰—å­ï¼Ÿ</div>
        <div class="animals-source">
            <div class="animal-card" data-id="q3-lobster"><span class="animal-emoji">ğŸ¦</span><span class="animal-name">é¾è¦</span></div>
            <div class="animal-card" data-id="q3-shrimp"><span class="animal-emoji">ğŸ¦</span><span class="animal-name">è¦</span></div>
        </div>
        <div class="baskets-container">
            <div class="basket" data-basket="claw-yes">
                <div class="basket-title">ç±ƒå­5ï¼šæœ‰å¤§é‰—å­</div>
                <div class="basket-content"></div>
            </div>
            <div class="basket" data-basket="claw-no">
                <div class="basket-title">ç±ƒå­6ï¼šæ²’æœ‰å¤§é‰—å­</div>
                <div class="basket-content"></div>
            </div>
        </div>
    </div>

    <div class="question-container" id="q4">
        <div class="question-title">å•é¡Œ 4ï¼šèŸ¹ã€é¾è¦ã€ç€¨å°¿è¦å’Œè¦ï¼Œèª°æœ‰å°¾å·´ï¼Ÿ</div>
        <div class="animals-source">
            <div class="animal-card" data-id="q4-crab"><span class="animal-emoji">ğŸ¦€</span><span class="animal-name">èŸ¹</span></div>
            <div class="animal-card" data-id="q4-lobster"><span class="animal-emoji">ğŸ¦</span><span class="animal-name">é¾è¦</span></div>
            <div class="animal-card" data-id="q4-mantis"><span class="animal-emoji mantis-style">ğŸ¦</span><span class="animal-name">ç€¨å°¿è¦</span></div>
            <div class="animal-card" data-id="q4-shrimp"><span class="animal-emoji">ğŸ¦</span><span class="animal-name">è¦</span></div>
        </div>
        <div class="baskets-container">
            <div class="basket" data-basket="tail-yes">
                <div class="basket-title">ç±ƒå­7ï¼šæœ‰å°¾å·´</div>
                <div class="basket-content"></div>
            </div>
            <div class="basket" data-basket="tail-no">
                <div class="basket-title">ç±ƒå­8ï¼šæ²’æœ‰å°¾å·´</div>
                <div class="basket-content"></div>
            </div>
        </div>
    </div>

    <div class="question-container" id="q5">
        <div class="question-title">å•é¡Œ 5ï¼šèŸ¹ã€é¾è¦ã€ç€¨å°¿è¦å’Œè¦ï¼Œèª°é«”å‹æ˜¯å°çš„ï¼Ÿ</div>
        <div class="animals-source">
            <div class="animal-card" data-id="q5-crab"><span class="animal-emoji">ğŸ¦€</span><span class="animal-name">èŸ¹</span></div>
            <div class="animal-card" data-id="q5-lobster"><span class="animal-emoji">ğŸ¦</span><span class="animal-name">é¾è¦</span></div>
            <div class="animal-card" data-id="q5-mantis"><span class="animal-emoji mantis-style">ğŸ¦</span><span class="animal-name">ç€¨å°¿è¦</span></div>
            <div class="animal-card" data-id="q5-shrimp"><span class="animal-emoji">ğŸ¦</span><span class="animal-name">è¦</span></div>
        </div>
        <div class="baskets-container">
            <div class="basket" data-basket="size-small">
                <div class="basket-title">ç±ƒå­9ï¼šé«”å‹æ˜¯å°çš„</div>
                <div class="basket-content"></div>
            </div>
            <div class="basket" data-basket="size-big">
                <div class="basket-title">ç±ƒå­10ï¼šé«”å‹æ˜¯å¤§çš„</div>
                <div class="basket-content"></div>
            </div>
        </div>
    </div>

    <script>
        const draggables = document.querySelectorAll('.animal-card');
        
        let activeItem = null;
        let initialX = 0;
        let initialY = 0;
        let currentX = 0;
        let currentY = 0;
        let xOffset = 0;
        let yOffset = 0;

        draggables.forEach(item => {
            item.addEventListener('touchstart', dragStart, {passive: false});
            item.addEventListener('touchend', dragEnd, {passive: false});
            item.addEventListener('touchmove', drag, {passive: false});
            item.addEventListener('mousedown', dragStart);
        });

        function dragStart(e) {
            if (e.type === "touchstart") {
                initialX = e.touches[0].clientX - xOffset;
                initialY = e.touches[0].clientY - yOffset;
            } else {
                initialX = e.clientX - xOffset;
                initialY = e.clientY - yOffset;
                document.addEventListener('mousemove', drag);
                document.addEventListener('mouseup', dragEnd);
            }

            if (e.target.closest('.animal-card')) {
                activeItem = e.target.closest('.animal-card');
                activeItem.classList.add('dragging');
            }
        }

        function drag(e) {
            if (activeItem) {
                e.preventDefault();

                let clientX, clientY;
                if (e.type === "touchmove") {
                    clientX = e.touches[0].clientX;
                    clientY = e.touches[0].clientY;
                } else {
                    clientX = e.clientX;
                    clientY = e.clientY;
                }

                currentX = clientX - initialX;
                currentY = clientY - initialY;

                setTranslate(currentX, currentY, activeItem);
            }
        }

        function setTranslate(xPos, yPos, el) {
            el.style.transform = `translate3d(${xPos}px, ${yPos}px, 0)`;
        }

        function dragEnd(e) {
            if (!activeItem) return;

            let clientX, clientY;
            if (e.type === "touchend") {
                clientX = e.changedTouches[0].clientX;
                clientY = e.changedTouches[0].clientY;
            } else {
                clientX = e.clientX;
                clientY = e.clientY;
                document.removeEventListener('mousemove', drag);
                document.removeEventListener('mouseup', dragEnd);
            }

            activeItem.classList.remove('dragging');

            activeItem.style.display = 'none';
            let elemBelow = document.elementFromPoint(clientX, clientY);
            activeItem.style.display = 'flex';

            if (elemBelow) {
                let basket = elemBelow.closest('.basket');
                let questionContainer = activeItem.closest('.question-container');
                
                if (basket && questionContainer.contains(basket)) {
                    const contentArea = basket.querySelector('.basket-content');
                    contentArea.appendChild(activeItem);
                } else {
                    let sourceArea = elemBelow.closest('.animals-source');
                    if (sourceArea && questionContainer.contains(sourceArea)) {
                        sourceArea.appendChild(activeItem);
                    }
                }
            }

            activeItem.style.transform = "none";
            initialX = 0;
            initialY = 0;
            currentX = 0;
            currentY = 0;
            activeItem = null;
        }
    </script>
</body>
</html>