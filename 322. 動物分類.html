<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å‹•ç‰©åˆ†é¡å¤§æŒ‘æˆ°</title>
    <style>
        :root {
            --mammal-color: #FFB7B2;
            --bird-color: #B5EAD7;
            --reptile-color: #E2F0CB;
            --amphibian-color: #FFDAC1;
            --fish-color: #C7CEEA;
            --bg-color: #f4f4f9;
            --text-color: #333;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }

        h1 {
            margin-bottom: 10px;
        }

        .status-bar {
            display: flex;
            gap: 20px;
            font-size: 1.2rem;
            margin-bottom: 20px;
            font-weight: bold;
        }

        .lives {
            color: #ff4757;
        }

        /* éŠæˆ²å€åŸŸä½ˆå±€ */
        .game-area {
            width: 100%;
            max-width: 1000px;
            display: flex;
            flex-direction: column;
            gap: 30px;
        }

        /* ä¸ŠåŠéƒ¨åˆ†ï¼šåˆ†é¡å€ */
        .categories-container {
            display: flex;
            justify-content: space-between;
            gap: 10px;
            flex-wrap: wrap;
        }

        .drop-zone {
            flex: 1;
            min-width: 150px;
            height: 200px;
            border: 3px dashed #ccc;
            border-radius: 10px;
            background-color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 10px;
            transition: all 0.3s ease;
        }

        .drop-zone h3 {
            margin: 0 0 10px 0;
            pointer-events: none;
        }

        .drop-zone.drag-over {
            background-color: #e0f7fa;
            border-color: #00bcd4;
            transform: scale(1.02);
        }

        /* åˆ†é¡é¡è‰²æ¨™ç±¤ */
        .zone-mammal { border-color: var(--mammal-color); background-color: rgba(255, 183, 178, 0.1); }
        .zone-bird { border-color: var(--bird-color); background-color: rgba(181, 234, 215, 0.1); }
        .zone-reptile { border-color: var(--reptile-color); background-color: rgba(226, 240, 203, 0.1); }
        .zone-amphibian { border-color: var(--amphibian-color); background-color: rgba(255, 218, 193, 0.1); }
        .zone-fish { border-color: var(--fish-color); background-color: rgba(199, 206, 234, 0.1); }

        /* ä¸‹åŠéƒ¨åˆ†ï¼šå‹•ç‰©å€ */
        .animals-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            padding: 20px;
            background-color: white;
            border-radius: 15px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            min-height: 100px;
        }

        .animal-card {
            background-color: #fff;
            border: 2px solid #ddd;
            border-radius: 8px;
            padding: 10px 20px;
            cursor: grab;
            font-size: 1.1rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            transition: transform 0.2s;
            user-select: none;
        }

        .animal-card:active {
            cursor: grabbing;
            transform: scale(1.1);
        }

        .animal-card.correct {
            background-color: #d4edda;
            border-color: #c3e6cb;
            color: #155724;
            cursor: default;
        }

        /* å‹•ç•«ï¼šéŒ¯èª¤æ™‚éœ‡å‹• */
        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            50% { transform: translateX(5px); }
            75% { transform: translateX(-5px); }
            100% { transform: translateX(0); }
        }

        .shake {
            animation: shake 0.4s ease-in-out;
            border-color: red !important;
            background-color: #ffe6e6 !important;
        }

        /* æ¨¡æ…‹è¦–çª— (Modal) */
        .modal {
            display: none;
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background-color: rgba(0,0,0,0.5);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .modal-content {
            background-color: white;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            max-width: 400px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .btn {
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 1rem;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 15px;
        }
        .btn:hover { background-color: #45a049; }
        
        .hidden { display: none; }

    </style>
</head>
<body>

    <h1>å‹•ç‰©åˆ†é¡å¤§æŒ‘æˆ°</h1>
    
    <div class="status-bar">
        <div class="lives">å‰©é¤˜æ©Ÿæœƒ: <span id="lives-count">3</span></div>
        <div class="score">å·²å®Œæˆ: <span id="score-count">0</span>/10</div>
    </div>

    <div class="game-area">
        <div class="categories-container">
            <div class="drop-zone zone-mammal" data-category="mammal">
                <h3>å“ºä¹³é¡</h3>
            </div>
            <div class="drop-zone zone-bird" data-category="bird">
                <h3>é³¥é¡</h3>
            </div>
            <div class="drop-zone zone-reptile" data-category="reptile">
                <h3>çˆ¬è¡Œé¡</h3>
            </div>
            <div class="drop-zone zone-amphibian" data-category="amphibian">
                <h3>å…©æ£²é¡</h3>
            </div>
            <div class="drop-zone zone-fish" data-category="fish">
                <h3>é­šé¡</h3>
            </div>
        </div>

        <div class="animals-container" id="animal-pool">
            </div>
    </div>

    <div id="game-modal" class="modal">
        <div class="modal-content">
            <h2 id="modal-title">æ¨™é¡Œ</h2>
            <p id="modal-message">è¨Šæ¯</p>
            <button class="btn" onclick="location.reload()">é‡æ–°é–‹å§‹</button>
        </div>
    </div>

    <script>
        // å‹•ç‰©è³‡æ–™èˆ‡æ­£ç¢ºåˆ†é¡
        const animals = [
            { name: "ğŸ¼ ç†Šè²“", category: "mammal" },
            { name: "ğŸ¦ˆ é¯Šé­š", category: "fish" },
            { name: "ğŸ¬ æµ·è±š", category: "mammal" },
            { name: "ğŸ‹ é¯¨é­š", category: "mammal" },
            { name: "ğŸ” æ¯é›", category: "bird" },
            { name: "ğŸŠ é±·é­š", category: "reptile" },
            { name: "ğŸ¦ è ‘èˆ", category: "amphibian" },
            { name: "ğŸ¦‡ è™è ", category: "mammal" },
            { name: "ğŸ§ ä¼éµ", category: "bird" },
            { name: "ğŸ è›‡", category: "reptile" }
        ];

        let lives = 3;
        let correctCount = 0;
        const totalAnimals = animals.length;

        const animalPool = document.getElementById('animal-pool');
        const livesDisplay = document.getElementById('lives-count');
        const scoreDisplay = document.getElementById('score-count');
        const modal = document.getElementById('game-modal');
        const modalTitle = document.getElementById('modal-title');
        const modalMessage = document.getElementById('modal-message');

        // åˆå§‹åŒ–éŠæˆ²
        function initGame() {
            // éš¨æ©Ÿæ‰“äº‚å‹•ç‰©é †åº
            animals.sort(() => Math.random() - 0.5);

            animals.forEach(animal => {
                const el = document.createElement('div');
                el.classList.add('animal-card');
                el.setAttribute('draggable', 'true');
                el.dataset.category = animal.category; // å„²å­˜æ­£ç¢ºç­”æ¡ˆ
                el.innerText = animal.name;
                
                // æ‹–æ›³äº‹ä»¶ç›£è½
                el.addEventListener('dragstart', dragStart);
                animalPool.appendChild(el);
            });
        }

        // æ‹–æ›³é‚è¼¯
        function dragStart(e) {
            e.dataTransfer.setData('text/plain', JSON.stringify({
                category: e.target.dataset.category,
                id: e.target.innerText // æš«æ™‚ç”¨æ–‡å­—ç•¶å”¯ä¸€è­˜åˆ¥
            }));
            e.target.classList.add('dragging');
        }

        // æ”¾ç½®å€åŸŸé‚è¼¯
        const dropZones = document.querySelectorAll('.drop-zone');
        
        dropZones.forEach(zone => {
            zone.addEventListener('dragover', e => {
                e.preventDefault(); // å…è¨±æ”¾ç½®
                zone.classList.add('drag-over');
            });

            zone.addEventListener('dragleave', () => {
                zone.classList.remove('drag-over');
            });

            zone.addEventListener('drop', e => {
                e.preventDefault();
                zone.classList.remove('drag-over');

                // ç²å–è¢«æ‹–æ›³çš„å…ƒç´ 
                const draggingEl = document.querySelector('.dragging');
                if (!draggingEl) return;

                const animalCategory = draggingEl.dataset.category;
                const zoneCategory = zone.dataset.category;

                if (animalCategory === zoneCategory) {
                    handleCorrectDrop(draggingEl, zone);
                } else {
                    handleWrongDrop(draggingEl);
                }
                
                draggingEl.classList.remove('dragging');
            });
        });

        // è™•ç†æ­£ç¢ºæ”¾ç½®
        function handleCorrectDrop(element, zone) {
            zone.appendChild(element);
            element.classList.add('correct');
            element.setAttribute('draggable', 'false'); // ç¦æ­¢å†æ¬¡æ‹–æ›³
            element.style.cursor = 'default';
            
            correctCount++;
            scoreDisplay.innerText = correctCount;

            if (correctCount === totalAnimals) {
                showModal("æ­å–œå‹åˆ©ï¼ğŸ‰", "ä½ æ˜¯å‹•ç‰©åˆ†é¡å¤§å¸«ï¼");
            }
        }

        // è™•ç†éŒ¯èª¤æ”¾ç½®
        function handleWrongDrop(element) {
            element.classList.add('shake');
            lives--;
            livesDisplay.innerText = lives;

            // æ’­æ”¾éŸ³æ•ˆæˆ–è¦–è¦ºæç¤ºå¾Œç§»é™¤ shake class
            setTimeout(() => {
                element.classList.remove('shake');
            }, 500);

            if (lives <= 0) {
                showModal("éŠæˆ²çµæŸ ğŸ’€", "æ©Ÿæœƒç”¨å®Œäº†ï¼Œå†è©¦ä¸€æ¬¡å§ï¼");
                // é–å®šæ‰€æœ‰å¡ç‰‡
                document.querySelectorAll('.animal-card').forEach(card => card.setAttribute('draggable', 'false'));
            }
        }

        function showModal(title, msg) {
            setTimeout(() => {
                modalTitle.innerText = title;
                modalMessage.innerText = msg;
                modal.style.display = 'flex';
            }, 300);
        }

        // å•Ÿå‹•
        initGame();

    </script>
</body>
</html>